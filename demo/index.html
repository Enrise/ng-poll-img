<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>ngPollImg demo</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular.js"></script>
        <script src="../dist/ng-poll-img.js"></script>
        <script>
            var app = angular.module('app', ['ngPollImg']);
            app.config(['ngPollImgConfigProvider', function(ngPollImgConfigProvider) {
                ngPollImgConfigProvider.interval = 2000;
            }]);

            app.controller('DemoController', ['$scope', function($scope) {
                $scope.onGivingUp = function() {
                    alert('I have given up!');
                };
            }]);
        </script>
    </head>
    <body ng-app="app">
        <div ng-controller="DemoController">
            <poll-img source="thisimagedoesnotexist.jpg" fallback="http://placehold.it/350x150" give-up-after="3" on-giving-up="onGivingUp()"></poll-img>
            <p>
                The kitten above is the placeholder being activated after trying to pull the source the first time.<br>
                Open up your network tab in the developer toolbar and you can see it tries to pull the source 5 times before giving up.
            </p>
        </div>
    </body>
</html>